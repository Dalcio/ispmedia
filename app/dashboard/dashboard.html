<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - ISP Media</title>
    <link rel="stylesheet" href="../../style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navigation -->
    <div id="navbar-container"></div>

    <!-- Dashboard Content -->
    <main class="container" style="padding: var(--space-8) var(--space-6);">
        
        <!-- Dashboard Header -->
        <div class="flex justify-between items-center mb-8">
            <div>
                <h1 class="mb-2">Dashboard</h1>
                <p class="text-gray">Overview of your media analytics and performance</p>
            </div>
            <div class="flex gap-3">
                <button class="btn btn-ghost">Export Data</button>
                <button class="btn btn-primary">Generate Report</button>
            </div>
        </div>

        <!-- Key Metrics -->
        <section class="mb-12">
            <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                
                <div class="card">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <p class="text-sm text-muted mb-1">Total Storage</p>
                            <h3 class="text-2xl font-bold">12.4 GB</h3>
                        </div>
                        <div style="width: 40px; height: 40px; background: var(--primary-light); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                            <span style="font-size: 1.25rem;">üíæ</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-sm text-success">‚Üó +12%</span>
                        <span class="text-sm text-muted">from last month</span>
                    </div>
                </div>

                <div class="card">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <p class="text-sm text-muted mb-1">Total Files</p>
                            <h3 class="text-2xl font-bold">1,247</h3>
                        </div>
                        <div style="width: 40px; height: 40px; background: var(--primary-light); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                            <span style="font-size: 1.25rem;">üìÅ</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-sm text-success">‚Üó +5.2%</span>
                        <span class="text-sm text-muted">from last week</span>
                    </div>
                </div>

                <div class="card">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <p class="text-sm text-muted mb-1">Bandwidth Used</p>
                            <h3 class="text-2xl font-bold">84.2 GB</h3>
                        </div>
                        <div style="width: 40px; height: 40px; background: var(--primary-light); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                            <span style="font-size: 1.25rem;">üìä</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-sm text-error">‚Üò -2.1%</span>
                        <span class="text-sm text-muted">from yesterday</span>
                    </div>
                </div>

                <div class="card">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <p class="text-sm text-muted mb-1">Active Users</p>
                            <h3 class="text-2xl font-bold">142</h3>
                        </div>
                        <div style="width: 40px; height: 40px; background: var(--primary-light); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                            <span style="font-size: 1.25rem;">üë•</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-sm text-success">‚Üó +18%</span>
                        <span class="text-sm text-muted">from last month</span>
                    </div>
                </div>

            </div>
        </section>

        <!-- Charts Section -->
        <div class="grid mb-12" style="grid-template-columns: 2fr 1fr; gap: var(--space-6);">
            
            <!-- Usage Chart -->
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Storage Usage Over Time</h4>
                    <p class="card-subtitle">Daily storage consumption for the past 30 days</p>
                </div>
                <div style="height: 300px;">
                    <canvas id="usageChart"></canvas>
                </div>
            </div>

            <!-- File Types -->
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">File Types</h4>
                    <p class="card-subtitle">Distribution by format</p>
                </div>
                <div style="height: 300px;">
                    <canvas id="fileTypesChart"></canvas>
                </div>
            </div>

        </div>

        <!-- Recent Activity & Top Files -->
        <div class="grid mb-12" style="grid-template-columns: 1fr 1fr; gap: var(--space-6);">
            
            <!-- Recent Activity -->
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Recent Activity</h4>
                    <button class="btn btn-ghost btn-sm">View All</button>
                </div>
                
                <div class="space-y-4">
                    <div class="flex items-center gap-3 p-3 bg-secondary rounded-lg">
                        <div style="width: 32px; height: 32px; background: var(--success); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;">
                            <span style="color: white; font-size: 0.75rem;">‚Üó</span>
                        </div>
                        <div style="flex: 1;">
                            <p class="font-medium text-sm">video-presentation.mp4 uploaded</p>
                            <p class="text-xs text-muted">5 minutes ago ‚Ä¢ 45.2 MB</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center gap-3 p-3 bg-secondary rounded-lg">
                        <div style="width: 32px; height: 32px; background: var(--info); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;">
                            <span style="color: white; font-size: 0.75rem;">üëÅ</span>
                        </div>
                        <div style="flex: 1;">
                            <p class="font-medium text-sm">report.pdf viewed by 3 users</p>
                            <p class="text-xs text-muted">12 minutes ago</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center gap-3 p-3 bg-secondary rounded-lg">
                        <div style="width: 32px; height: 32px; background: var(--primary-color); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;">
                            <span style="color: white; font-size: 0.75rem;">‚úè</span>
                        </div>
                        <div style="flex: 1;">
                            <p class="font-medium text-sm">Project folder renamed</p>
                            <p class="text-xs text-muted">1 hour ago</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center gap-3 p-3 bg-secondary rounded-lg">
                        <div style="width: 32px; height: 32px; background: var(--warning); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;">
                            <span style="color: white; font-size: 0.75rem;">‚ö†</span>
                        </div>
                        <div style="flex: 1;">
                            <p class="font-medium text-sm">Storage limit warning</p>
                            <p class="text-xs text-muted">2 hours ago</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Top Files -->
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Most Accessed Files</h4>
                    <button class="btn btn-ghost btn-sm">View All</button>
                </div>
                
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 hover:bg-secondary rounded-lg transition-colors">
                        <div class="flex items-center gap-3">
                            <div style="width: 32px; height: 32px; background: var(--error); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                                <span style="color: white; font-size: 0.75rem;">üìÑ</span>
                            </div>
                            <div>
                                <p class="font-medium text-sm">Q4-Report.pdf</p>
                                <p class="text-xs text-muted">2.4 MB ‚Ä¢ 47 views</p>
                            </div>
                        </div>
                        <button class="btn btn-ghost btn-sm">Open</button>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 hover:bg-secondary rounded-lg transition-colors">
                        <div class="flex items-center gap-3">
                            <div style="width: 32px; height: 32px; background: var(--info); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                                <span style="color: white; font-size: 0.75rem;">üé•</span>
                            </div>
                            <div>
                                <p class="font-medium text-sm">intro-video.mp4</p>
                                <p class="text-xs text-muted">125 MB ‚Ä¢ 32 views</p>
                            </div>
                        </div>
                        <button class="btn btn-ghost btn-sm">Open</button>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 hover:bg-secondary rounded-lg transition-colors">
                        <div class="flex items-center gap-3">
                            <div style="width: 32px; height: 32px; background: var(--success); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                                <span style="color: white; font-size: 0.75rem;">üìä</span>
                            </div>
                            <div>
                                <p class="font-medium text-sm">data-analysis.xlsx</p>
                                <p class="text-xs text-muted">890 KB ‚Ä¢ 28 views</p>
                            </div>
                        </div>
                        <button class="btn btn-ghost btn-sm">Open</button>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 hover:bg-secondary rounded-lg transition-colors">
                        <div class="flex items-center gap-3">
                            <div style="width: 32px; height: 32px; background: var(--primary-color); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                                <span style="color: white; font-size: 0.75rem;">üñº</span>
                            </div>
                            <div>
                                <p class="font-medium text-sm">logo-design.png</p>
                                <p class="text-xs text-muted">1.2 MB ‚Ä¢ 23 views</p>
                            </div>
                        </div>
                        <button class="btn btn-ghost btn-sm">Open</button>
                    </div>
                </div>
            </div>

        </div>

    </main>

    <!-- Footer -->
    <div id="footer-container"></div>

    <!-- Scripts -->
    <script>
        // Load navbar and footer
        fetch('/components/navbar.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('navbar-container').innerHTML = html;
            });

        fetch('/components/footer.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('footer-container').innerHTML = html;
            });

        // Add space-y utility
        const style = document.createElement('style');
        style.textContent = `
            .space-y-3 > * + * { margin-top: var(--space-3); }
            .space-y-4 > * + * { margin-top: var(--space-4); }
            .text-2xl { font-size: 1.5rem; }
            .text-xs { font-size: 0.75rem; }
            .transition-colors { transition: background-color var(--transition-fast); }
        `;
        document.head.appendChild(style);

        // Initialize Charts
        document.addEventListener('DOMContentLoaded', function() {
            // Usage Chart
            const usageCtx = document.getElementById('usageChart').getContext('2d');
            new Chart(usageCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Storage (GB)',
                        data: [2.1, 3.4, 4.2, 5.8, 7.1, 8.3, 9.1, 10.2, 11.1, 11.8, 12.1, 12.4],
                        borderColor: '#FFC107',
                        backgroundColor: 'rgba(255, 193, 7, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: '#E0E0E0'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            // File Types Chart
            const fileTypesCtx = document.getElementById('fileTypesChart').getContext('2d');
            new Chart(fileTypesCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Videos', 'Images', 'Documents', 'Audio', 'Other'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: [
                            '#FFC107',
                            '#FF9800',
                            '#4CAF50',
                            '#2196F3',
                            '#9E9E9E'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
