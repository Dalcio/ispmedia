<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home - ISP Media</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
  <body>
    <!-- Navigation -->
    <div id="navbar-container"></div>

    <!-- Main Content -->
    <main class="container" style="padding: var(--space-12) var(--space-6)">
      <!-- Welcome Section -->
      <section class="mb-12">
        <div class="card">
          <div class="flex justify-between items-center mb-6">
            <div>
              <h1 class="mb-2">Welcome back!</h1>
              <p class="text-gray">
                Here's what's happening with your media today.
              </p>
            </div>
            <button class="btn btn-primary">Upload New</button>
          </div>

          <!-- Quick Stats -->
          <div
            class="grid"
            style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr))"
          >
            <div class="text-center p-4">
              <h3 class="text-primary mb-2">24</h3>
              <p class="text-sm text-muted">Files Today</p>
            </div>
            <div class="text-center p-4">
              <h3 class="text-primary mb-2">1.2GB</h3>
              <p class="text-sm text-muted">Storage Used</p>
            </div>
            <div class="text-center p-4">
              <h3 class="text-primary mb-2">98%</h3>
              <p class="text-sm text-muted">Processing Rate</p>
            </div>
            <div class="text-center p-4">
              <h3 class="text-primary mb-2">5.2K</h3>
              <p class="text-sm text-muted">Total Views</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Quick Actions -->
      <section class="mb-12">
        <h2 class="mb-6">Quick Actions</h2>
        <div
          class="grid"
          style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr))"
        >
          <a
            href="../files/file-manager.html"
            class="card interactive"
            style="text-decoration: none; color: inherit"
          >
            <div class="flex items-center gap-4">
              <div
                style="
                  width: 48px;
                  height: 48px;
                  background: var(--primary-light);
                  border-radius: var(--radius-lg);
                  display: flex;
                  align-items: center;
                  justify-content: center;
                "
              >
                <span style="font-size: 1.5rem">üìÅ</span>
              </div>
              <div>
                <h5 class="mb-1">Manage Files</h5>
                <p class="text-sm text-muted">Organize and upload media</p>
              </div>
            </div>
          </a>

          <a
            href="../dashboard/dashboard.html"
            class="card interactive"
            style="text-decoration: none; color: inherit"
          >
            <div class="flex items-center gap-4">
              <div
                style="
                  width: 48px;
                  height: 48px;
                  background: var(--primary-light);
                  border-radius: var(--radius-lg);
                  display: flex;
                  align-items: center;
                  justify-content: center;
                "
              >
                <span style="font-size: 1.5rem">üìä</span>
              </div>
              <div>
                <h5 class="mb-1">View Analytics</h5>
                <p class="text-sm text-muted">Check performance metrics</p>
              </div>
            </div>
          </a>

          <button
            class="card interactive"
            style="border: none; background: var(--white); cursor: pointer"
            onclick="openUploadModal()"
          >
            <div class="flex items-center gap-4">
              <div
                style="
                  width: 48px;
                  height: 48px;
                  background: var(--primary-light);
                  border-radius: var(--radius-lg);
                  display: flex;
                  align-items: center;
                  justify-content: center;
                "
              >
                <span style="font-size: 1.5rem">‚¨ÜÔ∏è</span>
              </div>
              <div>
                <h5 class="mb-1">Quick Upload</h5>
                <p class="text-sm text-muted">Upload files instantly</p>
              </div>
            </div>
          </button>

          <a
            href="../admin/admin.html"
            class="card interactive"
            style="text-decoration: none; color: inherit"
          >
            <div class="flex items-center gap-4">
              <div
                style="
                  width: 48px;
                  height: 48px;
                  background: var(--primary-light);
                  border-radius: var(--radius-lg);
                  display: flex;
                  align-items: center;
                  justify-content: center;
                "
              >
                <span style="font-size: 1.5rem">‚öôÔ∏è</span>
              </div>
              <div>
                <h5 class="mb-1">Settings</h5>
                <p class="text-sm text-muted">Configure your workspace</p>
              </div>
            </div>
          </a>
        </div>
      </section>

      <!-- Recent Media -->
      <section class="mb-12">
        <div class="flex justify-between items-center mb-6">
          <h2>Recent Media</h2>
          <a
            href="#"
            data-route="/files"
            class="text-primary text-sm hover:underline"
            >View All</a
          >
        </div>
        <div
          class="grid"
          style="
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: var(--space-4);
          "
        >
          <div class="card interactive" onclick="navigateToMedia('song1')">
            <div
              class="media-thumb"
              style="
                aspect-ratio: 1;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: var(--radius-md);
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: var(--space-3);
              "
            >
              <span style="font-size: 2rem; color: white; opacity: 0.9"
                >üéµ</span
              >
            </div>
            <h5 class="mb-1">Summer Vibes</h5>
            <p class="text-gray text-sm">Electronic ‚Ä¢ 3:45</p>
          </div>

          <div class="card interactive" onclick="navigateToAlbum('album1')">
            <div
              class="media-thumb"
              style="
                aspect-ratio: 1;
                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
                border-radius: var(--radius-md);
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: var(--space-3);
              "
            >
              <span style="font-size: 2rem; color: white; opacity: 0.9"
                >üíø</span
              >
            </div>
            <h5 class="mb-1">Night Sessions</h5>
            <p class="text-gray text-sm">Album ‚Ä¢ 12 tracks</p>
          </div>

          <div class="card interactive" onclick="navigateToMedia('video1')">
            <div
              class="media-thumb"
              style="
                aspect-ratio: 1;
                background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
                border-radius: var(--radius-md);
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: var(--space-3);
              "
            >
              <span style="font-size: 2rem; color: white; opacity: 0.9"
                >üé•</span
              >
            </div>
            <h5 class="mb-1">Music Video</h5>
            <p class="text-gray text-sm">Video ‚Ä¢ 4:12</p>
          </div>

          <div class="card interactive" onclick="navigateToArtist('artist1')">
            <div
              class="media-thumb"
              style="
                aspect-ratio: 1;
                background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
                border-radius: var(--radius-md);
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: var(--space-3);
              "
            >
              <span style="font-size: 2rem; color: white; opacity: 0.9"
                >üé§</span
              >
            </div>
            <h5 class="mb-1">Alex Producer</h5>
            <p class="text-gray text-sm">Artist ‚Ä¢ 24 tracks</p>
          </div>
        </div>
      </section>

      <!-- Recent Activity -->
      <section class="mb-12">
        <h2 class="mb-6">Recent Activity</h2>
        <div class="card">
          <div class="space-y-4">
            <div
              class="flex items-center justify-between p-4 bg-secondary rounded-lg"
            >
              <div class="flex items-center gap-3">
                <div
                  style="
                    width: 32px;
                    height: 32px;
                    background: var(--success);
                    border-radius: var(--radius-full);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <span style="color: white; font-size: 0.875rem">‚úì</span>
                </div>
                <div>
                  <p class="font-medium">presentation.pdf uploaded</p>
                  <p class="text-sm text-muted">2 minutes ago</p>
                </div>
              </div>
              <span class="text-sm text-muted">2.4 MB</span>
            </div>

            <div
              class="flex items-center justify-between p-4 bg-secondary rounded-lg"
            >
              <div class="flex items-center gap-3">
                <div
                  style="
                    width: 32px;
                    height: 32px;
                    background: var(--info);
                    border-radius: var(--radius-full);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <span style="color: white; font-size: 0.875rem">üìä</span>
                </div>
                <div>
                  <p class="font-medium">Analytics report generated</p>
                  <p class="text-sm text-muted">1 hour ago</p>
                </div>
              </div>
              <button class="btn btn-ghost btn-sm">View</button>
            </div>

            <div
              class="flex items-center justify-between p-4 bg-secondary rounded-lg"
            >
              <div class="flex items-center gap-3">
                <div
                  style="
                    width: 32px;
                    height: 32px;
                    background: var(--primary-color);
                    border-radius: var(--radius-full);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <span style="color: white; font-size: 0.875rem">üë§</span>
                </div>
                <div>
                  <p class="font-medium">New user joined workspace</p>
                  <p class="text-sm text-muted">3 hours ago</p>
                </div>
              </div>
              <span class="text-sm text-muted">john@example.com</span>
            </div>
          </div>

          <div class="text-center mt-6">
            <button class="btn btn-ghost">View All Activity</button>
          </div>
        </div>
      </section>
    </main>

    <!-- Quick Upload Modal (Glassmorphism) -->
    <div id="uploadModal" class="modal-overlay hidden">
      <div class="modal-content">
        <div class="flex justify-between items-center mb-6">
          <h3>Quick Upload</h3>
          <button onclick="closeUploadModal()" class="btn btn-ghost btn-sm">
            ‚úï
          </button>
        </div>

        <div
          class="upload-area"
          style="
            border: 2px dashed var(--gray-300);
            border-radius: var(--radius-lg);
            padding: var(--space-8);
            text-align: center;
            margin-bottom: var(--space-6);
          "
        >
          <div style="font-size: 3rem; margin-bottom: var(--space-4)">üìÅ</div>
          <h4 class="mb-2">Drop files here</h4>
          <p class="text-muted mb-4">or click to browse</p>
          <input type="file" multiple class="hidden" id="fileInput" />
          <button
            class="btn btn-secondary"
            onclick="document.getElementById('fileInput').click()"
          >
            Choose Files
          </button>
        </div>

        <div class="flex justify-end gap-3">
          <button class="btn btn-ghost" onclick="closeUploadModal()">
            Cancel
          </button>
          <button class="btn btn-primary">Upload</button>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="../../scripts/app.js"></script>
    <script>
      // Load navbar
      fetch("/components/navbar.html")
        .then((response) => response.text())
        .then((html) => {
          document.getElementById("navbar-container").innerHTML = html;
        }); // Modal functions
      function openUploadModal() {
        document.getElementById("uploadModal").classList.remove("hidden");
      }

      function closeUploadModal() {
        document.getElementById("uploadModal").classList.add("hidden");
      }

      // Media navigation functions
      function navigateToMedia(mediaId) {
        if (window.router) {
          window.router.navigateTo(`/media/${mediaId}`);
        } else {
          // Fallback for non-SPA mode
          window.location.href = `/app/media/media-detail.html?id=${mediaId}`;
        }
      }

      function navigateToAlbum(albumId) {
        if (window.router) {
          window.router.navigateTo(`/album/${albumId}`);
        } else {
          // Fallback for non-SPA mode
          window.location.href = `/app/media/album-detail.html?id=${albumId}`;
        }
      }

      function navigateToArtist(artistId) {
        if (window.router) {
          window.router.navigateTo(`/artist/${artistId}`);
        } else {
          // Fallback for non-SPA mode
          window.location.href = `/app/media/artist-detail.html?id=${artistId}`;
        }
      }

      // Close modal on overlay click
      document
        .getElementById("uploadModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closeUploadModal();
          }
        });

      // Add space-y utility styles
      const style = document.createElement("style");
      style.textContent = `
            .space-y-4 > * + * {
                margin-top: var(--space-4);
            }
        `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
